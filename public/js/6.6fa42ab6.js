(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"0145":function(t,e,s){"use strict";var a=s("c1f0"),o=s.n(a);o.a},c1f0:function(t,e,s){},c7c5:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",[s("q-card",{staticClass:"q-pa-md"},[s("div",{staticClass:"q-mx-auto",staticStyle:{"max-width":"720px"}},[s("q-card-section",[s("q-form",{staticClass:"row q-gutter-y-md"},[s("div",{staticClass:"col-12 row q-gutter-y-md"},[s("div",{staticClass:"col-12 col-xs firstCol"},[s("q-input",{staticClass:"q-ml-none",staticStyle:{"font-size":"medium"},attrs:{autofocus:"",standout:"selectedField","input-class":"text-bold q-pl-sm",outlined:"",label:"Nombre"},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})],1),s("div",{staticClass:"col-12 col-xs"},[s("q-input",{staticClass:"q-ml-none",staticStyle:{"font-size":"medium"},attrs:{standout:"selectedField","input-class":"text-bold q-pl-sm",outlined:"",label:"Apellido"},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})],1)]),s("div",{staticClass:"col-12"},[s("q-input",{staticClass:"col-12 col-sm q-ml-none",staticStyle:{"font-size":"medium"},attrs:{type:"email",standout:"selectedField","input-class":"text-bold q-pl-sm",outlined:"",label:"Email"},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-email"}})]},proxy:!0}]),model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),s("div",{staticClass:"col-12"},[s("q-input",{staticClass:"col-12 col-sm q-ml-none",staticStyle:{"font-size":"medium"},attrs:{type:"tel",standout:"selectedField","input-class":"text-bold q-pl-sm",outlined:"",label:"Tel√©fono"},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-phone"}})]},proxy:!0}]),model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),s("div",{staticClass:"col-12"},[s("q-select",{staticClass:"col-12 q-mx-auto",staticStyle:{"font-size":"medium"},attrs:{outlined:"",value:t.role,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:t.roleOptions,standout:"selectedField",behavior:"menu",label:"Rol","input-class":"text-bold q-pl-sm"},on:{filter:t.filterRole,"input-value":t.onRoleSelect},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"mdi-shield-account"}})]},proxy:!0},{key:"no-option",fn:function(){return[s("q-item",[s("q-item-section",{staticClass:"text-grey"},[t._v("No hay coincidencias")])],1)]},proxy:!0}])})],1)])],1),s("q-card-actions",[s("q-btn",{staticClass:"q-px-md",attrs:{rounded:"",flat:"",label:"Cancel"},on:{click:t.cancel}}),s("q-space"),s("q-btn",{staticClass:"q-px-md",attrs:{rounded:"","icon-right":"mdi-check",color:"primary",label:"Crear Usuario",disable:!t.completed},on:{click:t.addContact}})],1)],1),s("q-inner-loading",{attrs:{showing:t.isLoading}},[s("q-spinner",{attrs:{size:"50px",color:"primary"}})],1)],1)],1)},o=[],i=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("a481"),s("9523")),n=s.n(i),l=s("8aa5"),r=s.n(l),c=s("2f62");function d(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?d(Object(s),!0).forEach((function(e){n()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var p={name:"NewUser",data:function(){return{isLoading:!1,username:"",firstName:"",lastName:"",email:"",phone:"",password:"",passwordConfirm:"",role:"",roles:["Administrator","Operator","Neighour"],roleOptions:this.roles,fromRoute:""}},computed:u({completed:function(){var t=""!==this.username,e=""!==this.firstName,s=""!==this.lastName,a=""!==this.email,o=""!==this.phone,i=""!==this.password,n=""!==this.passwordConfirm,l=""!==this.role;return"Operator"===this.role||"Administrator"===this.role?t&&e&&s&&l&&i&&n&&(a||o):e&&s&&l&&(a||o)},isNewUserModalOpen:{get:function(){return this.newUserModal},set:function(t){this.setNewUserModal(t)}}},Object(c["c"])(["newUserModal"])),methods:u({simplify:function(t){return t.replace(/[^a-zA-Z0-9 ]/g,"").replace(/ +/g,"-").toLowerCase()},onRoleSelect:function(t){this.role=t},filterRole:function(t,e,s){var a=this;e((function(){a.roleOptions=a.roles.filter((function(e){return e.toLowerCase().indexOf(t.toLowerCase())>-1}))}))},cancel:function(){this.username="",this.role="",this.firstName="",this.lastName="",this.email="",this.phone="",this.password="",this.passwordConfirm="",this.$router.push(this.fromRoute)},addContact:function(){var t=this;this.isLoading=!0;var e={username:this.username,firstName:this.firstName,lastName:this.lastName,password:this.password,email:this.email,phone:this.phone,role:this.simplify(this.role)},s=r.a.functions().httpsCallable("createContact");s(e).then((function(e){console.log("EXITO! ",e.data.result),t.isLoading=!1,t.$q.notify({type:"positive",message:e.data.result}),t.setNewUserModal(!1)})).catch((function(e){console.log("ERROR... : ",e),t.isLoading=!1,t.$q.notify({type:"negative",message:e.message}),t.setNewUserModal(!1)}))}},Object(c["b"])(["setNewUserModal"])),watch:{$route:function(t,e){this.fromRoute=e}}},m=p,f=(s("0145"),s("2877")),h=s("eebe"),b=s.n(h),y=s("9989"),q=s("f09f"),w=s("a370"),C=s("0378"),g=s("27f9"),v=s("0016"),O=s("ddd8"),x=s("66e5"),N=s("4074"),S=s("4b7e"),Q=s("9c40"),j=s("2c91"),k=s("74f7"),R=s("0d59"),L=s("3b73"),P=Object(f["a"])(m,a,o,!1,null,null,null);e["default"]=P.exports;b()(P,"components",{QPage:y["a"],QCard:q["a"],QCardSection:w["a"],QForm:C["a"],QInput:g["a"],QIcon:v["a"],QSelect:O["a"],QItem:x["a"],QItemSection:N["a"],QCardActions:S["a"],QBtn:Q["a"],QSpace:j["a"],QInnerLoading:k["a"],QSpinner:R["a"],QExpansionItem:L["a"]})}}]);