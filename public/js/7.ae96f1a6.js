(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"21f30":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"authContainer"},[n("div",{staticClass:"form-container"},[n("q-card",{staticClass:"auth-form q-pa-md"},[n("div",{staticClass:"logo-container q-pb-lg"},[n("img",{attrs:{src:"statics/rf-white.png",alt:"Agua Viva Logo"}})]),n("q-form",{staticClass:"q-gutter-sm",on:{submit:t.onSubmitLogin,reset:t.onReset}},[n("q-input",{staticClass:"auth-input",attrs:{rounded:"",dense:"","input-class":"text-black",autofocus:"",outlined:"",placeholder:"Usuario",type:"text"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.pass.focus()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{color:"black",name:"mdi-account-circle"}})]},proxy:!0}]),model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("q-input",{ref:"pass",staticClass:"auth-input",attrs:{rounded:"",dense:"","input-class":"text-black",outlined:"",type:"password",placeholder:"Contraseña"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmitLogin(e)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{color:"black",name:"mdi-key"}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("q-slide-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.warning,expression:"warning"}]},[n("q-item",{staticStyle:{background:"rgba(144, 5, 5, 0.75)","border-radius":"5px"},attrs:{clickable:""},on:{click:function(e){return t.setWarning(!1)}}},[n("span",{staticClass:"warning q-py-sm"},[n("q-icon",{attrs:{name:"warning"}}),t._v("\n                "+t._s(t.warningText)+"\n              ")],1)])],1)])],1),n("q-slide-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.formFilled(),expression:"formFilled()"}]},[n("q-card-actions",{staticClass:"q-pt-lg",attrs:{align:"right"}},[n("q-btn",{staticClass:"col",attrs:{rounded:"",label:t.loading?"Verificando...":"Ingresar",color:"primary"},nativeOn:{click:function(e){return t.onSubmitLogin(e)}}})],1)],1)]),n("q-card-actions",{staticClass:"q-pa-none q-mt-md"},[n("q-btn",{staticClass:"q-px-sm text-white",attrs:{rounded:"",flat:"",dense:"",label:"Crear Cuenta"},on:{click:function(e){return t.$router.push({name:"register"})}}}),n("q-btn",{staticClass:"q-px-sm text-white",attrs:{rounded:"",flat:"",dense:"",label:"Recordarme"},nativeOn:{click:function(e){return t.$router.push({name:"recover"})}}})],1),n("q-inner-loading",{attrs:{showing:t.loading}},[n("q-spinner",{attrs:{size:"50px",color:"primary",thickness:5}})],1)],1)],1)])},a=[],s=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("9523")),i=n.n(s),o=n("fd47"),c=n("2f62");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={name:"Auth",data:function(){return{name:"",email:"",password:"",warning:!1,warningText:"Warning"}},computed:l({},Object(c["c"])(["loading"])),mounted:function(){this.setLoading(!1)},methods:l({formFilled:function(){return this.email&&this.password},errorMessage:function(t){switch(t.code){case"auth/invalid-email":return"Correo no válido";case"auth/invalid-password":return"Contraseña incorrecta";case"auth/wrong-password":return"Contraseña incorrecta";case"auth/argument-error":return"Error al ingresar";case"auth/user-not-found":return"Ese usuario no existe";case"auth/too-many-requests":return this.warningText="Demasiados intentos",this.warning=!0,this.warningText;default:return"ERROR FATAL. AUTODESTRUCCIÓN INMINENTE"}},setRole:function(t){this.role=t},onSubmitLogin:function(){var t=this;this.email&&this.password?(this.setLoading(!0),o["a"].signInWithEmailAndPassword(this.email,this.password).then((function(e){t.$router.push({name:"home"}),t.setLoading(!1)})).catch((function(e){t.setLoading(!1),t.$q.notify({position:"top",color:"red-6",textColor:"white",icon:"cloud_done",message:t.errorMessage(e)})}))):t.$q.notify({position:"top",color:"red-6",textColor:"white",icon:"cloud_done",message:"Complete the form"})},onReset:function(){this.email=null,this.password=null},setWarning:function(t,e){this.warning=t,this.warningText=e}},Object(c["b"])(["setLoading"]))},p=d,f=(n("9ea8"),n("2877")),m=n("eebe"),g=n.n(m),h=n("f09f"),w=n("0378"),b=n("27f9"),y=n("0016"),v=n("e9c1"),k=n("66e5"),q=n("4b7e"),C=n("9c40"),x=n("74f7"),O=n("0d59"),j=n("8572"),E=Object(f["a"])(p,r,a,!1,null,null,null);e["default"]=E.exports;g()(E,"components",{QCard:h["a"],QForm:w["a"],QInput:b["a"],QIcon:y["a"],QSlideTransition:v["a"],QItem:k["a"],QCardActions:q["a"],QBtn:C["a"],QInnerLoading:x["a"],QSpinner:O["a"],QField:j["a"]})},"9ea8":function(t,e,n){"use strict";var r=n("fdbd"),a=n.n(r);a.a},fdbd:function(t,e,n){}}]);